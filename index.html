<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Romantic Museum — Gulsen seni cok seviyorum - Sener Dagli</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- 
      ===========================================================================================
      ULTRA-COMPLEX, ROMANTIC MUSEUM WEBSITE
      (Single-File Implementation with 3D Night Sky using Three.js)
      Versions: 1.0
      Lines: ~ Very Large
      ===========================================================================================
      FEATURES:
      1) 3D Realistic Night Sky background w/ starfield, planets, and comets.
      2) Non-cropping image gallery: frames do not clip faces.
      3) On-click expansions with swirling heart rain.
      4) Fireworks, hearts, kisses, toggles for background music, etc.
      5) Multiple transitions, layered frames, advanced visuals.
      6) Enough legitimate, functional code to feel like 1 year of dev.
      
      Dependencies:
        - Three.js from CDN
        - Basic images in images/ folder
        - Optional local mp3 for background music
      Enjoy responsibly.
  -->
  <!-- Three.js CDN for 3D sky -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  
  <!-- Google Fonts for romance & elegance -->
  <link href="https://fonts.googleapis.com/css?family=Great+Vibes|Cinzel:400,700|Playfair+Display:400,700&display=swap" rel="stylesheet">

  <style>
    /* 
      =========================================================================================
      1. GLOBAL RESETS & BASIC STYLES
      =========================================================================================
    */
    * {
      margin: 0; 
      padding: 0; 
      box-sizing: border-box;
    }
    html, body {
      width: 100%; 
      height: 100%;
      overflow-x: hidden;
      background: #000; /* fallback if 3D fails */
    }
    body {
      font-family: 'Playfair Display', serif;
      color: #fff;
      position: relative;
    }

    /* Hide any scrollbars if they appear, though we may have a gallery that extends downward */
    ::-webkit-scrollbar {
      width: 8px;
      background: rgba(255, 255, 255, 0.1);
    }
    ::-webkit-scrollbar-thumb {
      background: rgba(255, 255, 255, 0.3);
      border-radius: 4px;
    }

    /* 
      =========================================================================================
      2. 3D SKY BACKGROUND CANVAS
         We'll do a full-screen Three.js scene w/ star textures, rotating planets, comets, etc.
      =========================================================================================
    */
    #threesky {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -10; /* behind everything */
    }

    /* 
      =========================================================================================
      3. SIGNATURE / TITLE
      =========================================================================================
    */
    #signature {
      position: fixed;
      top: 3%;
      left: 50%;
      transform: translateX(-50%);
      z-index: 999;
      font-family: 'Great Vibes', cursive;
      font-size: 3rem;
      color: #ffd3f7;
      text-shadow: 0 0 8px rgba(255,255,255,0.8);
      animation: glowTitle 6s ease-in-out infinite;
    }
    @keyframes glowTitle {
      0%, 100% {
        text-shadow: 0 0 10px #fff, 0 0 20px #fcc, 0 0 30px #ffd3f7;
      }
      50% {
        text-shadow: 0 0 10px #fff, 0 0 25px #f0f, 0 0 45px #ffd3f7;
      }
    }

    /* 
      =========================================================================================
      4. ACTION BUTTONS: 
         - Fireworks
         - Send Hearts
         - Send Kisses
         - Toggle Music
      =========================================================================================
    */
    .action-buttons {
      position: fixed;
      bottom: 2%;
      right: 2%;
      z-index: 1001;
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }
    .action-btn {
      padding: 1rem 1.5rem;
      border: none;
      border-radius: 20px;
      background: linear-gradient(45deg, #ff3366, #ff758c);
      color: #fff;
      font-size: 1rem;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.4s ease;
      box-shadow: 0 5px 15px rgba(255, 51, 102, 0.3);
    }
    .action-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 25px rgba(255, 51, 102, 0.5);
    }

    /* 
      =========================================================================================
      5. FIREWORKS CANVAS
      =========================================================================================
    */
    #fireworks-canvas {
      position: fixed;
      top: 0;
      left: 0;
      z-index: 1000;
      width: 100%;
      height: 100%;
      pointer-events: none;
    }

    /* 
      =========================================================================================
      6. GALLERY (ULTRA-DETAILED FRAMES & NON-CROPPING IMAGES)
         - On click, a full "lightbox" expansion w/ swirling hearts
      =========================================================================================
    */
    .gallery-container {
      position: relative;
      z-index: 2;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
      padding: 5rem 2rem 8rem;
    }

    .art-frame {
      position: relative;
      background: #fff;
      border-radius: 15px;
      overflow: hidden;
      box-shadow: 0 0 15px rgba(255,255,255,0.3), 0 0 30px rgba(0,0,0,0.6);
      cursor: pointer;
      transition: transform 0.5s ease, box-shadow 0.5s ease, border-radius 1s ease;
      /* Multi-layer border approach */
      border: 5px solid transparent;
      border-image: linear-gradient(
        45deg, 
        #e6b800, 
        #ffd700 50%, 
        #6b4a0b) 1;
    }
    .art-frame::before,
    .art-frame::after {
      content: "";
      position: absolute;
      top: 0; left: 0; right: 0; bottom: 0;
      pointer-events: none;
      border-radius: 20px;
    }
    .art-frame::before {
      border: 4px solid rgba(255,255,255,0.2);
      box-shadow: 0 0 20px rgba(255,255,255,0.3) inset;
      mix-blend-mode: screen;
    }
    .art-frame::after {
      box-shadow: 0 0 10px rgba(255,255,255,0.3);
    }
    /* Subtle scale on hover */
    .art-frame:hover {
      transform: scale(1.02) translateY(-5px);
      box-shadow: 0 0 20px rgba(255,255,255,0.5), 0 0 40px rgba(0,0,0,0.6);
    }
    .art-frame img {
      width: 100%;
      height: auto;
      display: block;
      object-fit: contain; /* no cropping of faces */
      transition: transform 0.4s ease;
    }
    .art-frame:hover img {
      transform: scale(1.05);
    }

    /* 
      EXPANDED / LIGHTBOX MODE:
      We'll create an "art-frame--expanded" class 
      that fixes it to full viewport but keeps the image ratio
      to preserve faces perfectly.
    */
    .art-frame--expanded {
      position: fixed !important;
      top: 50% !important;
      left: 50% !important;
      transform: translate(-50%, -50%) !important;
      width: 90vw !important;
      height: 90vh !important;
      border-radius: 0 !important;
      z-index: 3001;
      box-shadow: 0 0 50px rgba(255,255,255,1), 0 0 80px rgba(255,0,0,0.5);
    }
    .art-frame--expanded img {
      width: auto; 
      height: auto;
      max-width: 100%;
      max-height: 100%;
      margin: auto;
      display: block;
      object-fit: contain; /* absolutely sure no cropping */
      transform: none !important;
    }

    /* 
      6.1 HEARTS RAIN INSIDE THE EXPANDED FRAME
    */
    .heart-rain {
      position: absolute;
      top: 0; left: 0;
      width: 100%; 
      height: 100%;
      pointer-events: none;
      overflow: hidden;
    }
    .heart-rain .heart {
      position: absolute;
      font-size: 2.5rem;
      color: #ff416c;
      animation: heartFall 3.5s linear forwards;
      opacity: 0.8;
      text-shadow: 0 0 5px rgba(255,50,120,0.8);
    }
    @keyframes heartFall {
      0% {
        transform: translateY(-50px) rotate(0deg);
        opacity: 1;
      }
      80% { opacity: 1; }
      100% {
        transform: translateY(150%) rotate(360deg);
        opacity: 0;
      }
    }

    /* 
      6.2 Additional swirl sparkles or flares
    */
    .sparkle {
      position: absolute;
      width: 12px;
      height: 12px;
      background: radial-gradient(circle, #fff 0%, transparent 70%);
      border-radius: 50%;
      animation: sparkleMove 2.5s ease-out forwards;
    }
    @keyframes sparkleMove {
      0% { transform: scale(0.5) translate(0,0); opacity: 0.7; }
      100% { transform: scale(2) translate(100px, -80px); opacity: 0; }
    }

    /* 
      =========================================================================================
      7. EMOJI DROP (Hearts / Kisses triggered by action buttons)
      =========================================================================================
    */
    .emoji {
      position: fixed;
      top: -50px;
      font-size: 2rem;
      pointer-events: none;
      animation: dropEmoji 3s cubic-bezier(0.42, 0, 0.58, 1) forwards;
      z-index: 4000;
    }
    @keyframes dropEmoji {
      0% {
        top: -50px;
        opacity: 1;
        transform: translateX(0) scale(0.7) rotate(0deg);
      }
      50% { opacity: 1; }
      100% {
        top: 110vh;
        opacity: 0;
        transform: translateX(50px) scale(1.2) rotate(360deg);
      }
    }

    /* 
      =========================================================================================
      8. MUSIC PLAYER (Hidden / toggled by a button)
      =========================================================================================
    */
    #bgMusic {
      display: none; /* We'll just have an <audio> tag here if we want to autoplay or be toggled */
    }

    /* 
      =========================================================================================
      9. RESPONSIVE TWEAKS
      =========================================================================================
    */
    @media(max-width: 768px) {
      #signature {
        font-size: 2rem;
      }
      .gallery-container {
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      }
      .action-btn {
        padding: 0.8rem 1rem;
        font-size: 0.9rem;
      }
    }
  </style>
</head>
<body>
  <!-- 3D Night Sky with Stars, Planets, and Comets (Three.js scene) -->
  <div id="threesky"></div>

  <!-- Fireworks Canvas -->
  <canvas id="fireworks-canvas"></canvas>

  <!-- Title / Signature -->
  <div id="signature">Gulsen seni cok seviyorum - Sener Dagli</div>

  <!-- Action Buttons -->
  <div class="action-buttons">
    <button id="firework-btn" class="action-btn">Launch Fireworks</button>
    <button id="hearts-btn" class="action-btn">Send Hearts</button>
    <button id="kisses-btn" class="action-btn">Send Kisses</button>
    <button id="music-btn" class="action-btn">Toggle Music</button>
  </div>

  <!-- Audio for background music (optional local file) -->
  <audio id="bgMusic" src="music/romantic.mp3" loop></audio>

  <!-- The Gallery Container with frames -->
  <div class="gallery-container">
    <div class="art-frame"><img src="images/photo1.jpg" alt="Romantic Photo 1"></div>
    <div class="art-frame"><img src="images/photo2.jpg" alt="Romantic Photo 2"></div>
    <div class="art-frame"><img src="images/photo3.jpg" alt="Romantic Photo 3"></div>
    <div class="art-frame"><img src="images/photo4.jpg" alt="Romantic Photo 4"></div>
    <div class="art-frame"><img src="images/photo5.jpg" alt="Romantic Photo 5"></div>
  </div>

  <!-- MASSIVE JS LOGIC -->
  <script>
    /*
      ===============================================================================
      A) THREE.JS SCENE: REALISTIC 3D NIGHT SKY w/ STARS, PLANETS, OCCASIONAL COMETS
      ===============================================================================
    */
    let scene, camera, renderer;
    let starGeo, starParticles;
    let planetMesh;
    let comets = [];
    let clock = new THREE.Clock();

    initThreeScene();
    animateThreeScene();

    function initThreeScene() {
      // Basic setup
      scene = new THREE.Scene();
      camera = new THREE.PerspectiveCamera(60, window.innerWidth/window.innerHeight, 1, 2000);
      camera.position.z = 5;

      renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
      renderer.setSize(window.innerWidth, window.innerHeight);
      document.getElementById('threesky').appendChild(renderer.domElement);

      // 1) Starfield background using Points
      const starsCount = 2000;
      starGeo = new THREE.BufferGeometry();
      const positions = [];
      for (let i=0; i<starsCount; i++){
        const x = (Math.random() - 0.5) * 2000;
        const y = (Math.random() - 0.5) * 2000;
        const z = (Math.random() - 0.5) * 2000;
        positions.push(x, y, z);
      }
      starGeo.setAttribute('position', new THREE.Float32BufferAttribute(positions, 3));
      const starMat = new THREE.PointsMaterial({
        color: 0xffffff,
        size: 1.5,
        transparent: true
      });
      starParticles = new THREE.Points(starGeo, starMat);
      scene.add(starParticles);

      // 2) Add a planet or two
      const planetGeo = new THREE.SphereGeometry(0.8, 32, 32);
      const planetMat = new THREE.MeshStandardMaterial({ 
        color: 0x4444ff, 
        roughness: 0.6, 
        metalness: 0.1 
      });
      planetMesh = new THREE.Mesh(planetGeo, planetMat);
      planetMesh.position.set(-2, 1, -1);
      scene.add(planetMesh);

      // Additional light for the planet
      const ambientLight = new THREE.AmbientLight(0xffffff, 0.3);
      scene.add(ambientLight);
      const pointLight = new THREE.PointLight(0xffffff, 1);
      pointLight.position.set(5, 3, 5);
      scene.add(pointLight);

      // 3) Occasional comets: an array of small spheres or lines
      // We'll spawn them in animate with random intervals
      window.addEventListener('resize', onWindowResize);
    }

    function createComet() {
      const geometry = new THREE.SphereGeometry(0.05, 8, 8);
      const material = new THREE.MeshBasicMaterial({ color: 0xffff00 });
      const cometMesh = new THREE.Mesh(geometry, material);
      // random spawn in the "far left" or "top" region
      cometMesh.position.set(
        (Math.random() - 0.5)*10, 
        (Math.random() * 5 + 2), 
        - (Math.random()*5 + 2)
      );
      cometMesh.userData = {
        vx: Math.random()*0.02 + 0.01,
        vy: - (Math.random()*0.02 + 0.005)
      };
      scene.add(cometMesh);
      comets.push(cometMesh);
    }
    setInterval(() => {
      // spawn a comet every 6 sec
      createComet();
    }, 6000);

    function animateThreeScene() {
      requestAnimationFrame(animateThreeScene);
      const delta = clock.getDelta();

      // rotate starfield
      starParticles.rotation.y += 0.0005;

      // rotate planet
      planetMesh.rotation.y += 0.2 * delta;

      // move comets
      for (let i=comets.length-1; i>=0; i--) {
        const c = comets[i];
        c.position.x += c.userData.vx;
        c.position.y += c.userData.vy;
        c.position.z += 0.01; // drifting closer
        if (c.position.y < -5 || c.position.x > 5) {
          scene.remove(c);
          comets.splice(i, 1);
        }
      }

      renderer.render(scene, camera);
    }

    function onWindowResize() {
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth, window.innerHeight);
    }

    /*
      ===============================================================================
      B) FIREWORKS ON A 2D CANVAS
      ===============================================================================
    */
    const fwCanvas = document.getElementById('fireworks-canvas');
    const fwCtx = fwCanvas.getContext('2d');
    let fwW = window.innerWidth;
    let fwH = window.innerHeight;
    fwCanvas.width = fwW;
    fwCanvas.height = fwH;

    let fireworks = [];

    class FireworkParticle {
      constructor(x, y, angle, speed, color) {
        this.x = x;
        this.y = y;
        this.vx = Math.cos(angle) * speed;
        this.vy = Math.sin(angle) * speed;
        this.alpha = 1;
        this.fade = Math.random()*0.02 + 0.008;
        this.color = color;
        this.size = Math.random()*3 + 2;
      }
      update() {
        this.x += this.vx;
        this.y += this.vy;
        this.vy += 0.02; // gravity
        this.alpha -= this.fade;
      }
      draw(ctx) {
        ctx.save();
        ctx.globalAlpha = this.alpha;
        ctx.fillStyle = this.color;
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.size, 0, 2*Math.PI);
        ctx.fill();
        ctx.restore();
      }
    }

    function launchFirework() {
      const centerX = fwW/2;
      const centerY = fwH/2;
      // Big explosion
      const color1 = `hsl(${Math.random()*360}, 100%, 60%)`;
      for (let i=0; i<120; i++){
        const angle = Math.random()*Math.PI*2;
        const speed = Math.random()*5 + 3;
        fireworks.push(new FireworkParticle(centerX, centerY, angle, speed, color1));
      }
      // smaller secondary
      setTimeout(()=>{
        const color2 = `hsl(${Math.random()*360}, 100%, 70%)`;
        for (let i=0; i<80; i++){
          const angle = Math.random()*Math.PI*2;
          const speed = Math.random()*4 + 2;
          fireworks.push(new FireworkParticle(centerX, centerY, angle, speed, color2));
        }
      }, 400);
    }

    function animateFireworks() {
      fwCtx.clearRect(0, 0, fwW, fwH);
      for (let i=fireworks.length-1; i>=0; i--){
        let f = fireworks[i];
        f.update();
        f.draw(fwCtx);
        if (f.alpha <= 0) {
          fireworks.splice(i,1);
        }
      }
      requestAnimationFrame(animateFireworks);
    }
    animateFireworks();

    window.addEventListener('resize', ()=>{
      fwW = window.innerWidth;
      fwH = window.innerHeight;
      fwCanvas.width = fwW;
      fwCanvas.height = fwH;
    });

    document.getElementById('firework-btn').addEventListener('click', ()=>{
      launchFirework();
    });

    /*
      ===============================================================================
      C) EMOJI DROP (Send Hearts / Send Kisses)
      ===============================================================================
    */
    function createEmoji(emojiChar) {
      for (let i = 0; i < 10; i++) {
        const emoji = document.createElement('div');
        emoji.className = 'emoji';
        emoji.textContent = emojiChar;
        emoji.style.left = Math.random() * 100 + 'vw';
        emoji.style.animationDelay = (Math.random() * 0.5) + 's';
        document.body.appendChild(emoji);
        setTimeout(() => { emoji.remove(); }, 3000);
      }
    }
    document.getElementById('hearts-btn').addEventListener('click', ()=>{
      createEmoji('❤️');
    });
    document.getElementById('kisses-btn').addEventListener('click', ()=>{
      createEmoji('💋');
    });

    /*
      ===============================================================================
      D) TOGGLE MUSIC
      ===============================================================================
    */
    const musicBtn = document.getElementById('music-btn');
    const bgMusic = document.getElementById('bgMusic');
    let isMusicPlaying = false;
    musicBtn.addEventListener('click', ()=>{
      if (!isMusicPlaying) {
        bgMusic.play();
        isMusicPlaying = true;
        musicBtn.textContent = "Stop Music";
      } else {
        bgMusic.pause();
        bgMusic.currentTime = 0;
        isMusicPlaying = false;
        musicBtn.textContent = "Play Music";
      }
    });

    /*
      ===============================================================================
      E) GALLERY: On-Click => Lightbox / Expanded with Heart Rain
      ===============================================================================
    */
    const frames = document.querySelectorAll('.art-frame');
    let currentExpanded = null;
    
    frames.forEach(frame => {
      frame.addEventListener('click', () => {
        // If there's a currently expanded frame, close it
        if (currentExpanded && currentExpanded !== frame) {
          currentExpanded.classList.remove('art-frame--expanded');
          removeHeartRain(currentExpanded);
        }
        // Toggle this frame
        if (!frame.classList.contains('art-frame--expanded')) {
          frame.classList.add('art-frame--expanded');
          currentExpanded = frame;
          createHeartRain(frame);
        } else {
          frame.classList.remove('art-frame--expanded');
          removeHeartRain(frame);
          currentExpanded = null;
        }
      });
    });

    function createHeartRain(frameElem) {
      const container = document.createElement('div');
      container.className = 'heart-rain';
      frameElem.appendChild(container);
      // spawn hearts
      for (let i=0; i<25; i++){
        const heart = document.createElement('div');
        heart.className = 'heart';
        heart.textContent = '❤️';
        heart.style.left = (Math.random()*80 + 10)+"%";
        heart.style.animationDelay = (Math.random()*1)+"s";
        container.appendChild(heart);
      }
      // add sparkles
      for (let s=0; s<12; s++){
        const sparkleEl = document.createElement('div');
        sparkleEl.className = 'sparkle';
        sparkleEl.style.left = (Math.random()*80 + 10) + "%";
        sparkleEl.style.top = (Math.random()*70 + 15) + "%";
        container.appendChild(sparkleEl);
      }
    }
    function removeHeartRain(frameElem) {
      const hr = frameElem.querySelector('.heart-rain');
      if (hr) {
        frameElem.removeChild(hr);
      }
    }

  </script>
</body>
</html>
